var Hashtable=(function(){var s="function";var u=(typeof Array.prototype.splice==s)?function(a,b){a.splice(b,1)}:function(b,c){var d,a,e;if(c===b.length-1){b.length=c}else{d=b.slice(c+1);b.length=c;for(a=0,e=d.length;a<e;++a){b[c+a]=d[a]}}};function H(a){var c;if(typeof a=="string"){return a}else{if(typeof a.hashCode==s){c=a.hashCode();return(typeof c=="string")?c:H(c)}else{if(typeof a.toString==s){return a.toString()}else{try{return String(a)}catch(b){return Object.prototype.toString.call(a)}}}}}function B(b,a){return b.equals(a)}function D(b,a){return(typeof a.equals==s)?a.equals(b):(b===a)}function F(a){return function(b){if(b===null){throw new Error("null is not a valid "+a)}else{if(typeof b=="undefined"){throw new Error(a+" must not be undefined")}}}}var r=F("key"),w=F("value");function E(a,c,b,d){this[0]=a;this.entries=[];this.addEntry(c,b);if(d!==null){this.getEqualityFunction=function(){return d}}}var A=0,y=1,C=2;function t(a){return function(d){var e=this.entries.length,b,c=this.getEqualityFunction(d);while(e--){b=this.entries[e];if(c(d,b[0])){switch(a){case A:return true;case y:return b;case C:return[e,b[1]]}}}return false}}function x(a){return function(c){var b=c.length;for(var d=0,e=this.entries.length;d<e;++d){c[b+d]=this.entries[d][a]}}}E.prototype={getEqualityFunction:function(a){return(typeof a.equals==s)?B:D},getEntryForKey:t(y),getEntryAndIndexForKey:t(C),removeEntryForKey:function(a){var b=this.getEntryAndIndexForKey(a);if(b){u(this.entries,b[0]);return b[1]}return null},addEntry:function(b,a){this.entries[this.entries.length]=[b,a]},keys:x(0),values:x(1),getEntries:function(c){var a=c.length;for(var b=0,d=this.entries.length;b<d;++b){c[a+b]=this.entries[b].slice(0)}},containsKey:t(A),containsValue:function(a){var b=this.entries.length;while(b--){if(a===this.entries[b][1]){return true}}return false}};function v(c,b){var d=c.length,a;while(d--){a=c[d];if(b===a[0]){return d}}return null}function z(c,b){var a=c[b];return(a&&(a instanceof E))?a:null}function G(e,g){var b=this;var c=[];var d={};var a=(typeof e==s)?e:H;var f=(typeof g==s)?g:null;this.put=function(n,m){r(n);w(m);var k=a(n),j,i,l=null;j=z(d,k);if(j){i=j.getEntryForKey(n);if(i){l=i[1];i[1]=m}else{j.addEntry(n,m)}}else{j=new E(k,n,m,f);c[c.length]=j;d[k]=j}return l};this.get=function(i){r(i);var l=a(i);var k=z(d,l);if(k){var j=k.getEntryForKey(i);if(j){return j[1]}}return null};this.containsKey=function(i){r(i);var j=a(i);var k=z(d,j);return k?k.containsKey(i):false};this.containsValue=function(i){w(i);var j=c.length;while(j--){if(c[j].containsValue(i)){return true}}return false};this.clear=function(){c.length=0;d={}};this.isEmpty=function(){return !c.length};var h=function(i){return function(){var j=[],k=c.length;while(k--){c[k][i](j)}return j}};this.keys=h("keys");this.values=h("values");this.entries=h("getEntries");this.remove=function(m){r(m);var l=a(m),k,i=null;var j=z(d,l);if(j){i=j.removeEntryForKey(m);if(i!==null){if(!j.entries.length){k=v(c,l);u(c,k);delete d[l]}}}return i};this.size=function(){var i=0,j=c.length;while(j--){i+=c[j].entries.length}return i};this.each=function(k){var j=b.entries(),i=j.length,l;while(i--){l=j[i];k(l[0],l[1])}};this.putAll=function(n,j){var k=n.entries();var q,p,i,m,l=k.length;var o=(typeof j==s);while(l--){q=k[l];p=q[0];i=q[1];if(o&&(m=b.get(p))){i=j(p,m,i)}b.put(p,i)}};this.clone=function(){var i=new G(e,g);i.putAll(b);return i}}return G})();